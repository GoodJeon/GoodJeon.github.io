---
layout: posts
comments: true
title: "[Python기초]File In&out 연습"
categories: Python
tag: [python, 파이썬, file, 파일]
toc: true
toc_sticky: true
date: 2022-01-04
last_modified_at: 2022-01-04

---

**[Noitce]** 고쳐야하거나 틀린 것이 있으면 말씀해주세요!
{: .notice--info}

<br>

# 파이썬 파일 입출력 연습문제



<br>

## 문제1: **텍스트파일로 되어 있는 가사의 단어를 카운트하자.**



<br>

비틀즈의 'Yesterday' 아시나요? 정말 유명한 곡인데요. 이 곡의 가사가 저장되어 있는 텍스트 파일을 읽어 가사에 사용되고 있는 단어들의 목록을 알파벳 순서로 출력하고, 각 단어들이 몇 개씩 사용되고 있는지 단어별 개수를 출력하는 프로그램을 작성해봅시다.

<br>

- 조건:

1. 리스트, 세트, 딕셔너리 등의 자료구조를 이용
2. 단어들은 모두 소문자로 변환하여 사용한다.

- 텍스트 파일과 출력 예시:

  ![image](https://user-images.githubusercontent.com/75322297/148004524-cf88358c-aeb0-40c7-8110-14e683deb728.png)





<br>

### 풀이

 과정을 생각해보면 이정도로 정리해 볼 수 있다.

1. `yesterday.txt` 파일을 읽어온다.
2. `소문자`로 변환하여 `단어`로 나눠준다.
3. `카운트`를 계산
4. 화면에 출력

이제 코드를 작성해서 프로그램을 구현해보자.

```python
f = open('yesterday.txt', 'r') # 읽기모드로 텍스트 파일을 불러온다.
yesterday = f.readlines() # readlines() 메소드는 텍스트를 행 별로 리스트에 저장
# yesterday2 = f.read() # read() 메소드를 사용하면 문자열로 들어온다. 바로 스플릿을 할 수도 있다.
f.close() # 파일을 닫아준다.
words = [] # 단어 크기로 나눠진 문자들을 담아줄 리스틀 생성한다.
```

```python
for line in yesterday:
    line = line.split()
    for w in line:
        words.append(w.lower()) # 소문자로변경하여 words에 append
# 반복문을 사용해 yesterday 리스트를 .split() 메소드를 사용해 단어로 나눠준다.
# 그리고 다시 이중 반복문을 이용해서 lower()메소드를 사용해 단어를 소문자로 바꿔주고 words에 append해준다.
```

```python
wordL = list(set(words)) 
# 중복되는 단어들을 집합으로 만들어 요소 하나씩만 남게한 다음 다시 리스트로 만든다.
wordL.sort() 
# 그 리스트를 알파벳 오름차순으로 정렬해준다.

wordDict = dict()
# 단어와 단어의 개수를 담기 위한 딕셔너리를 생성
```

```python
for w in wordL:
    wordDict[w] = words.count(w)
# 단어의 중복을 없앤 리스트를 반복문을 이용해 딕셔너리의 key값에 넣어준다.
# 단어의 중복이 있는 words 리스트에서 .count() 메소드를 사용해 단어의 개수를 카운트하고 value값에 저장해준다.

for w in wordDict.items():
    print(f"'{w[0]}' : {w[1]}")
# 반복문을 사용해 딕셔너리의 key값(단어)과 value값(개수)를 출력
```

```
'a' : 3
'all' : 1
'an' : 2
'as' : 1
'away' : 3
'be' : 1
'believe' : 3
'came' : 1
'don't' : 2
'easy' : 2
'far' : 1
'for' : 2
'game' : 2
'go,' : 2
'had' : 2
'half' : 1
'hanging' : 1
'here' : 1
'hide' : 2
'i' : 12
'i'm' : 1
'in' : 3
'it' : 1
'know' : 2
'long' : 2
'looks' : 1
'love' : 2
'man' : 1
'me' : 1
'my' : 1
'need' : 2
'not' : 1
'now' : 5
'oh,' : 4
'over' : 1
'place' : 2
'play' : 2
'said' : 2
'say' : 2
'seemed' : 1
'shadow' : 1
'she' : 4
'so' : 1
'something' : 2
'stay' : 1
'such' : 2
'suddenly' : 2
'the' : 1
'there's' : 1
'they're' : 1
'though' : 1
'to' : 8
'troubles' : 1
'used' : 1
'was' : 2
'why' : 2
'wouldn't' : 2
'wrong' : 2
'yesterday' : 9
```

단어 별로 개수가 정렬되어 잘 출력된 것을 확인할 수 있다. 하지만 oh 뒤에 ','가 있는 것을  볼 수 있다. 

저 문제들을 처리하면서 동시에 코드를 줄여볼 수도 있다.



```python
with open('yesterday.txt', 'r') as f:
    yesterday = f.read().lower().replace(',', '')
    yesterday = yesterday.split()
    wordDict = {}
    words = sorted(list(set(yesterday)))
# with 함수를 사용하면 close()가 자동으로 된다.
# .read()메소드는 리스트가 아닌 문자열로 텍스트 파일을 추출해온다.
# lower로 문자열들을 소문자로 변환
# replace로 ,를 공백으로 처리
# split을 활용해 각 단어를 list로 처리
# wordDict라는 딕셔너리를 생성
# yesterday 리스트를 집합으로 변환시켜 중복 제거 후 리스트로 변환하고 정렬시켜 words에 저장

for w in words:
    wordDict[w] = yesterday.count(w)
    
# 반복문을 활용해 words의 단어를 딕셔너리 key값에 저장해주고 .count()를 이용해 해당 key값의 개수를 value값에 저장.

for w in wordDict.items():
    print(f"'{w[0]}' : {w[1]}")

# wordDict의 값들을 출력
```

```
'a' : 3
'all' : 1
'an' : 2
'as' : 1
'away' : 3
'be' : 1
'believe' : 3
'came' : 1
'don't' : 2
'easy' : 2
'far' : 1
'for' : 2
'game' : 2
'go' : 2
'had' : 2
'half' : 1
'hanging' : 1
'here' : 1
'hide' : 2
'i' : 12
'i'm' : 1
'in' : 3
'it' : 1
'know' : 2
'long' : 2
'looks' : 1
'love' : 2
'man' : 1
'me' : 1
'my' : 1
'need' : 2
'not' : 1
'now' : 5
'oh' : 4
'over' : 1
'place' : 2
'play' : 2
'said' : 2
'say' : 2
'seemed' : 1
'shadow' : 1
'she' : 4
'so' : 1
'something' : 2
'stay' : 1
'such' : 2
'suddenly' : 2
'the' : 1
'there's' : 1
'they're' : 1
'though' : 1
'to' : 8
'troubles' : 1
'used' : 1
'was' : 2
'why' : 2
'wouldn't' : 2
'wrong' : 2
'yesterday' : 9
```

이렇게 잘 출력될 것이다.







<br>
<br>
<br>
<br>
<br>

## 문제2: **숫자를 입력하면 카운트 다운을 해주는 함수를 만들어라.**

```
이전에 비슷한 카운트다운 프로그램을 작성했었다. 반복문을 사용하는 경우는 함수 정의에 그 방식을 적용하면 되고, 재귀함수는 위에 명시한 것처럼 메커니즘을 생각해보고 작성하면 될 것 같다.
```

- 조건:

1. 반복문 사용
2. 재귀함수 사용

- 출력 예시:

```
5
4
3
2
1
```

### 1. 반복문 사용

```python
def count(number):
    for i in range(number, 0, -1):
        print(i)

count(5)

# 함수명은 count, 매개변수는 number
# 반복문을 이용해 입력한 정수 number로 시작해 1씩 떨어져 1까지 반복해서 출력해준다.
# count(n)에 5를 입력해 출력해보자.
```

### 2. 재귀함수 사용

```python
def selfCount(number):
    if number >= 1:
        print(number)
        return selfCount(number - 1)
    else:
        return

selfCount(5)

# 함수명은 selfCount, 매개변수는 number
# 만약 입력받은 number가 1 이상이면 자신의 값을 출력한다.
# 그리고 return에 selfCount(number - 1)을 작성해 입력받은 수보다 1적은 수로 다시 함수가 실행되게 한다.
# else는 0이거나 0보다 작은 경우인데, 이때는 아무 값도 출력하지 않는 return만 적어 계산이 끝나게 만든다.
# selfCount(n)에 정수 5를 넣어 출력해보자.
```